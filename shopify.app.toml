# Shopify App Configuration
# This file defines your app's structure for Shopify

# App name (shown in Shopify admin)
name = "Delybell Order Sync"

# App client ID (from Shopify Partner Dashboard)
client_id = "YOUR_CLIENT_ID"

# App URL (your production domain)
# This is the base URL - Shopify will automatically append /app?shop=...&host=...
# For embedded apps, Shopify loads: https://delybell.onrender.com/app?shop=...&host=...
application_url = "https://delybell.onrender.com"

# Embedded app configuration
embedded = true

# App scopes (permissions)
[access_scopes]
# Read and write orders for automatic syncing
scopes = "read_orders,write_orders"

# Webhooks configuration
# These will be registered automatically when app is installed
[[webhooks]]
api_version = "2025-10"  # Latest stable API version available
subscriptions = [
  "orders/create",
  "orders/updated",
  "app/uninstalled",
  # GDPR Compliance Webhooks (Required for public apps)
  "customers/data_request",
  "customers/redact",
  "shop/redact"
]

# App settings
[app_proxy]
url = "https://delybell.onrender.com"
subpath = "apps"
prefix = "delybell"

# Build configuration
[build]
automatically_update_urls_on_dev = true
dev_store_url = "your-dev-store.myshopify.com"
include_config_on_deploy = true
